<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.nf.wuneng.admin.dao.AdminDao">
    <resultMap id="adminMapper" type="edu.nf.wuneng.admin.entity.Admin">
        <result property="id" column="a_id"></result>
        <result property="name" column="a_name"></result>
        <result property="password" column="a_password"></result>
    </resultMap>

    <resultMap id="courseMapper" type="edu.nf.wuneng.admin.entity.Course">
        <id property="cid" column="c_id"></id>
        <result property="cname" column="c_name"></result>
        <result property="cintroduct" column="c_introduct"></result>
        <result property="cimg1" column="c_img1"></result>
        <result property="cimg2" column="c_img2"></result>
        <result property="cimg3" column="c_img3"></result>
    </resultMap>

    <resultMap id="courseAddrMapper" type="edu.nf.wuneng.admin.entity.CourseAddr">
        <id property="caId" column="ca_id"></id>
        <result property="caAddr" column="ca_addr"></result>
    </resultMap>

    <select id="loginAdmin" resultMap="adminMapper">
        select a_id,a_name,a_password from admin where a_id=#{id}
    </select>

    <insert id="addCourse" parameterType="edu.nf.wuneng.admin.entity.Course">
        insert into course(c_id,c_name,c_introduct,c_img1,c_img2,c_img3) values(#{cid},#{cname},#{cintroduct},#{cimg1},#{cimg2},#{cimg3})
    </insert>

    <insert id="addCourseAddr" parameterType="edu.nf.wuneng.admin.entity.CourseAddr">
        insert into course_addr(ca_id,ca_addr) values
        <foreach collection="list" item="courseAddr" separator=",">
            (#{courseAddr.caId},#{courseAddr.caAddr})
        </foreach>
    </insert>
</mapper>